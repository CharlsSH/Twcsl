<!--

  begin blog "header" text replace with category or tag, or both
  
  Version       : 0.4d0
  
  SS Version    : 7.1
  
  Dependancies  : jQuery
                  
                  twcsl
  
  Notes         : this effect is not active in SS Preview to test it use private
                  browsing < https://bit.ly/3f6lhq2 >
                  
                  the code is comprised of several tags. all are needed for the
                  full effect to work
                  
                  the blog "header" in this case is a page section added above a
                  normal blog page with a single text block
  
  By            : Thomas Creedon < http://www.tomsWeb.consulting/ >
  
  -->
  
  <script>
  
    window.twc = {
    
      x0121f5f3 : {
      
        category : {
        
          active : false, // set to false or true
          
          prefixText : '[enter text here between single quotes]',
          
          suffixText : '[enter text here between single quotes]'
          
          },
          
        tag : {
        
          active : false, // set to false or true
          
          prefixText : '[enter text here between single quotes]',
          
          suffixText : '[enter text here between single quotes]'
          
          }
          
        }
        
      };
      
    </script>
    
  <!-- do not change anything below, there be the borg here -->
  
  <style>
  
    html:not( .squarespace-damask ) body:not( .view-item )[class~="collection-type-blog"] .page-section:first-child .sqs-row:first-child .sqs-block-html:first-child > .sqs-block-content > *:first-child,
    html:not( .squarespace-damask ) body:not( .view-item )[class*="collection-type-blog-"] .page-section:first-child .sqs-row:first-child .sqs-block-html:first-child > .sqs-block-content > *:first-child
    
      {
      
        visibility : hidden;
        
        }
        
    </style>
    
  <script>
  
    $( ( ) => {
    
      if ( window.frameElement !== null ) return; // bail if in Preview
      
      if ( ! twcsl.blogPage.isBlogPage ) return; // bail if not blog page
      
      const options = twc.x0121f5f3;
      
      const revealText = ( ) => {
      
        $element.css ( 'visibility', 'visible' );
        
        };
        
      const $element = $( '.page-section:first .sqs-row:first ' +
      
        '.sqs-block-html:first > .sqs-block-content > *:first' );
        
      // bail if category and tag not active
      
      if ( ! ( options.category.active || options.tag.active ) ) {
      
        revealText ( );
        
        return;
        
        }
        
      // bail if not category or tag page
      
      if ( ! ( twcsl.blogPage.hasCategory || twcsl.blogPage.hasTag ) ) {
      
        revealText ( );
        
        return;
        
        }
        
      let prefixText, suffixText, text;
      
      switch ( true ) {
      
        case twcsl.blogPage.hasCategory && options.category.active :
        
          prefixText = options.category.prefixText;
          
          suffixText = options.category.suffixText;
          
          text = twcsl.blogPage.category;
          
          break;
          
        case twcsl.blogPage.hasTag && options.tag.active :
        
          prefixText = options.tag.prefixText;
          
          suffixText = options.tag.suffixText;
          
          text = twcsl.blogPage.tag;
          
          break;
          
        }
        
      text = prefixText +
      
        text +
        
        suffixText;
        
      $element.text ( text )
      
      revealText ( );
      
      } );
      
    </script>
    
  <!-- end blog "header" text replace with category or tag, or both -->
