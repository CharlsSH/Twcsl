<script>

  $( ( ) => {
  
    /*
    
      store product detail additional info add footer boilerplate
      
      License       : < https://bit.ly/3F8sn8W >
      
      Version       : 0.1.0
      
      SS Version    : 7.1
      
      Fluid
      Engine
      Compatible    : No
      
      Dependencies  : twcsl
      
      Note          : this effect is not active in SS Preview to test it use
                      private browsing < https://bit.ly/3f6lhq2 >
      
      By            : Thomas Creedon < http://www.tomsWeb.consulting/ >
      
      no user serviceable parts below
      
      */
      
    if ( window.frameElement !== null ) return; // bail if in Preview
    
    if ( ! twcsl.page.store.detail.is ) return; // bail if not detail
    
    let selector = '#footer-sections x-twc-spdaiafb';
    
    let $element = $( selector );
    
    let position = $element.attr ( 'data-position' );
    
    $element = $( selector )
    
      .parents ( '.sqs-block-code' );
      
    const $boilerplate = $element
    
      .parents ( '.sqs-col-12' )
      
      .children ( );
      
    if ( position == undefined )
    
      position = 'bottom';
      
    $element.remove ( );
    
    selector = '.ProductItem .ProductItem-additional .sqs-layout > ' +
    
      '.sqs-row > .sqs-col-12';
      
    const $additionalInfo = $( selector );
    
    switch ( position ) {
    
      case 'bottom' :
      
        $additionalInfo.append ( $boilerplate );
        
        break;
        
      case 'top' :
      
        $additionalInfo.prepend ( $boilerplate );
        
        break;
        
      }
      
    } );
    
  </script>
