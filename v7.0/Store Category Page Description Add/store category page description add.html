<script>

  Squarespace.onInitialize ( Y, ( ) => {
  
    /*
    
      store category page description add
      
      License       : < https://bit.ly/3F8sn8W >
      
      Version       : 0.5.0
      
      SS Version    : 7.0
      
      Templates     : Avenue
      
                      Bedford ( Anya, Bryant, Hayden )
                      
                      Brine ( Aria, Blend, Burke, Cacao, Clay, Fairfield, Feed,
                      Foster, Greenwich, Hatch, Heights, Hunter, Hyde, Impact,
                      Jaunt, Juke, Keene, Kin, Lincoln, Maple, Margot, Marta,
                      Mentor, Mercer, Miller, Mojave, Moksha, Motto, Nueva,
                      Pedro, Pursuit, Rally, Rover, Royce, Sofia, Sonora,
                      Stella, Thorne, Vow, Wav, West )
                      
                      Skye ( Foundry, Indigo, Ready, Skye, Tudor )
                      
                      your template is not listed? then it is not currently
                      supported
      
      Dependencies  : twcsl
      
      By            : Thomas Creedon < http://www.tomsWeb.consulting/ >
      
      */
      
    if ( window.twc == undefined ) window.twc = { };
    
    twc.scpda = {
    
      categoryDescriptionMap : {
      
        /*
        
          the format of each line is a category and a description for the
          category
          
          for each category copy value from Store Settings > Advanced >
          Manage Category > [category name] (click on category) > Edit for the
          store page. you only need exactly what can be selected from the
          field
          
          if you want to add a description to the Store page ( i.e.
          grid/listing ) leave the category empty
          
          if the description has single quotes in it then put a backslash
          before the single quotes. example: it's becomes it\'s
          
          following is an example line. copy the example line below and paste
          after the example line. remove '// ' at beginning of pasted line.
          repeat for as many categories as you want to add a description this
          has been done once initially
          
          */
          
        // '[enter category here between single quotes]' : '[enter category description here between single quotes]',
        
        '[enter category here between single quotes]' : '[enter category description here between single quotes]',
        
        },
        
      insertPosition : 'before', // use after or before
      
      /*
      
        use to override built in selectors. the selector you use may not be
        supported by the CSS in this effect
        
        */
        
      selector : ''
      
      };
      
    // do not change anything below, there be the borg here
    
    if ( ! twcsl.page.store.list.hasCategory ) return; // bail if not category
    
    const category = twcsl.page.store.list.category;
    
    const options = twc.scpda;
    
    const categoryDescriptionMap = options.categoryDescriptionMap;
    
    // if category not defined bail
    
    if ( ! ( category in categoryDescriptionMap ) ) return;
    
    // can we get a template id, if not bail
    
      let templateId;
      
      try {
      
        templateId = Static.SQUARESPACE_CONTEXT.templateId
        
        } catch {
      
          return;
          
          };
          
    // begin is the template id one we support, if not bail
    
      const templateIdSelectorMap = {
      
        '4fd11f32c4aad9b01c9e624c' : '#productList', // Avenue
        
        '52a74dafe4b073a80cd253c5' : '#productList', // Bedford family
        
        // Brine, Skye
        
        '55f0aac0e4b0f0a5b7e0b22e' : '.ProductList-grid',
        
        '54d3906fe4b04c1c9981b00e' : '.ProductList-grid',
        
        };
        
      const b = ! options.selector &&
      
        ! ( templateId in templateIdSelectorMap );
        
      if ( b ) return;
      
      // end is the template id one we support, if not bail
      
    // begin add the category description
    
      const description = categoryDescriptionMap [ category ];
      
      const $description = $( `<div class="twc-category-description">
      
        <p>
        
          ${ description }
          
          </p>
          
        </div>` );
        
      let selector = options.selector;
      
      selector = selector ? selector : templateIdSelectorMap [ templateId ];
      
      if ( options.insertPosition == 'before' ) {
      
        $description.insertBefore ( selector );
        
        } else {
        
          $description.insertAfter ( selector );
          
          }
          
      // end add the category description
      
    } );
    
  </script>
