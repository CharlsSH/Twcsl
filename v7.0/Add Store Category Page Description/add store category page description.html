<script>

  $( ( ) => {
  
    /*
    
      begin add store category page description
      
      Version       : 0.1d0
      
      SS Version    : 7.0
      
      Templates     : Avenue
      
                      Bedford ( Anya, Bryant, Hayden )
                      
                      Brine ( Aria, Blend, Burke, Cacao, Clay, Fairfield, Feed,
                      Foster, Greenwich, Hatch, Heights, Hunter, Hyde, Impact,
                      Jaunt, Juke, Keene, Kin, Lincoln, Maple, Margot, Marta,
                      Mentor, Mercer, Miller, Mojave, Moksha, Motto, Nueva,
                      Pedro, Pursuit, Rally, Rover, Royce, Sofia, Sonora,
                      Stella, Thorne, Vow, Wav, West )
                      
                      your template is not listed? then it is not currently
                      supported
                      
      Dependancies  : jQuery
      
      By            : Thomas Creedon < http://www.tomsWeb.consulting/ >
      
      */
      
    /* copy value for storeUrlSlug from Store Settings > General > URL SLUG
       field. you only need exactly what can be selected from the field */
       
    const storeUrlSlug = '[enter store url slug here between single quotes]';
    
    const categoryDescriptionMappings = {
    
      /*
      
        the format of each line is a category URL Slug and a description for the
        category
        
        for each category URL Slug copy value from Store Settings > Categories >
        [tag name] > Edit Category > URL SLUG field for the store page. you only
        need exactly what can be selected from the field. if you want to add a
        description to the Store page ( i.e. grid/listing ) leave the category
        URL Slug empty
        
        if the description has single quotes in it then put a backslash before
        the single quotes. example: it's becomes it\'s
        
        */
        
      /*
      
        following is an example line. copy the example line below and paste
        after the example line. remove '// ' at beginning of pasted line. repeat
        for as many categories as you want to add a description.
        
        */
        
      // '[enter category url slug here between single quotes]' : '[enter category description here between single quotes]',
      
      };
      
    // do not change anything below, there be the borg here
    
    // are we on the store page, if not bail
    
    if ( location.pathname !== '/' + storeUrlSlug ) return;
    
    // are we on a category page, if not bail
    
      const searchParams = new URLSearchParams ( location.search );
      
      const category = searchParams.get ( 'category' );
      
      if ( category == null ) return;
      
    // has a category been defined by the user, if not bail
    
    if ( ! ( category in categoryDescriptionMappings ) ) return;
    
    // can we get a template id, if not bail
    
      let templateId;
      
      try { templateId = Static.SQUARESPACE_CONTEXT.templateId } catch {
      
        return };
        
    // is the template id one we support, if not bail
    
      const templateIds = {
      
        '4fd11f32c4aad9b01c9e624c' : { // Avenue
        
          insertBeforeSelector : '#productList'
          
          },
          
        '52a74dafe4b073a80cd253c5' : { // Bedford family
        
          insertBeforeSelector : '#productList'
          
          },
          
        '55f0aac0e4b0f0a5b7e0b22e' : { // Brine family
        
          insertBeforeSelector : '.ProductList-grid'
          
          }
        }
        
      if ( ! ( templateId in templateIds ) ) return;
      
    // add the category description
    
    $( '<div class="tc-category-description">' +
    
      '<p>' +
      
        categoryDescriptionMappings [ category ] +
        
        '</p>' +
        
      '</div>' )
      
      .insertBefore ( templateIds [ templateId ].insertBeforeSelector );
      
    // end add store category page description
    
    } );
    
  </script>
