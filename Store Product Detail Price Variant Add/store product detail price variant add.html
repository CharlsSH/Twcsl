<script>

  /*
  
    store product detail price variant add
    
    Version         : 0.1.0
    
    SS Versions     : 7.1, 7.0
    
    v7.1
    Fluid
    Engine
    Compatible      : Not Applicable
    
    v7.0 Templates  : Brine ( Aria, Blend, Burke, Cacao, Clay, Fairfield, Feed,
                      Foster, Greenwich, Hatch, Heights, Hunter, Hyde, Impact,
                      Jaunt, Juke, Keene, Kin, Lincoln, Maple, Margot, Marta,
                      Mentor, Mercer, Miller, Mojave, Moksha, Motto, Nueva,
                      Pedro, Pursuit, Rally, Rover, Royce, Sofia, Sonora,
                      Stella, Thorne, Vow, Wav, West )
                      
                      Five
                      
                      Montauk ( Julia, Kent, Om )
                      
                      your template is not listed? then it is not currently
                      supported
    
    Dependancies    : store price change
    
    Note            : the code only works for one variant
    
    By              : Thomas Creedon < http://www.tomsWeb.consulting/ >
    
    */
    
  const spdpva = ( node, isDetail, text, searchText ) => {
  
    const variantOption = '[enter variant option name here between single quotes replacing square brackets]';
    
    // do not change anything below, there be the borg here
    
    if ( ! isDetail ) return true; // continue if not detail
    
    const $selectedVariant = $( node )
    
      .parents ( '.ProductItem-product-price, .pdp-details-price' )
      
      .siblings ( '.product-variants' );
      
    if ( ! $selectedVariant.length ) return true; // continue if no variants
    
    let selectVariantAttributes = $selectedVariant
    
      .attr ( 'data-selected-variant' );
      
    // continue if no variant selected
    
    if ( selectVariantAttributes == undefined ) return true;
    
    selectVariantAttributes = JSON.parse ( selectVariantAttributes );
    
    const textAdd = selectVariantAttributes.attributes [ variantOption ];
    
    // continue if no variant option
    
    if ( textAdd == undefined ) return true;
    
    if ( searchText instanceof RegExp )
    
      searchText = text.match ( searchText ) [ 0 ];
    
    const r = `${ searchText } ${ textAdd }`;
    
    return r;
    
    };
    
  </script>
