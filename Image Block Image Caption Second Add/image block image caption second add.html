<script>

  $( ( ) => {
  
    /*
    
      begin image block image caption second add
      
      License         : < https://bit.ly/3F8sn8W >
      
      Version         : 0.2.0
      
      SS Versions     : 7.1, 7.0
      
      v7.1
      Fluid
      Engine
      Compatible      : No
      
      v7.0 Templates  : Brine ( Aria, Blend, Burke, Cacao, Clay, Fairfield, Feed,
                        Foster, Greenwich, Hatch, Heights, Hunter, Hyde, Impact,
                        Jaunt, Juke, Keene, Kin, Lincoln, Maple, Margot, Marta,
                        Mentor, Mercer, Miller, Mojave, Moksha, Motto, Nueva, Pedro,
                        Pursuit, Rally, Rover, Royce, Sofia, Sonora, Stella, Thorne,
                        Vow, Wav, West )
                        
                        your template is not listed? then it is not currently
                        supported
      
      Dependancies    : jQuery
      
      By              : Thomas Creedon < http://www.tomsWeb.consulting/ >
      
      no user serviceable parts below
      
      */
      
      const selector =
      
        ':not( .fe-block ) > .sqs-block-image .image-block-outer-wrapper';
        
      $( selector ).each ( function ( ) {
      
        const $this = $( this );
        
        const isInline = $this.is ( '.design-layout-inline' );
        
        const caption = $( 'img', $this )
        
          .attr ( 'alt' );
          
        const $div = $( '<div>' )
        
          .addClass ( 'twc-ibicsa-caption-second' )
          
          .text ( caption );
          
        const targetSelector = isInline ?
        
          /* card, collage, overlap, poster, stack */
          
          '.image-block-wrapper'
          
          :
          
          /* inline */
          
          '.image-inset'; 
          
        $( targetSelector, $this )
        
          .append ( $div );
          
        } );
        
      // end image block image caption second add
      
    } );
    
  </script>
