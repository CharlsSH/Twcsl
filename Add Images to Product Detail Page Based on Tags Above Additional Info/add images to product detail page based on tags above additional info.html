<!--

  begin add images to product detail page based on tags above additional info
  
  Version         : 0.1d1
  
  SS Versions     : 7.0, 7.1
  
  v7.0 Templates  : Brine ( Aria, Blend, Cacao, Clay, Fairfield, Feed,
                    Foster, Greenwich, Hatch, Heights, Hunter, Hyde, Impact,
                    Jaunt, Juke, Keene, Kin, Lincoln, Maple, Margot, Marta,
                    Mentor, Mercer, Miller, Mojave, Moksha, Motto, Nueva,
                    Pedro, Pursuit, Rally, Rover, Royce, Sofia, Sonora,
                    Stella, Thorne, Vow, Wav, West )
                    
                    your template is not listed? then it is not currently
                    supported
                    
  Dependancies    : jQuery
                    
                    twcsl
                    
  Notes           : the code is comprised of a several tags. all are needed for
                    the full effect to work
                    
                    the images are added at the top of the Additional Info area
                    of the product detail page
                    
                    this effect is not active in SS Preview to test it use
                    private browsing < https://bit.ly/3f6lhq2 >.
                    
  By              : Thomas Creedon < http://www.tomsWeb.consulting/ >
  
  -->
  
  <script>
  
    const columns = 4; // use one of the following values 1, 2, 3, 4, 6, 12
    
    const tagImageUrlMap = {
    
      /*
      
        the format of each line is a tag as appears in the SS Product page
        interface and an image URL
        
        copy and repeat the line below for each mapping, remove the "// " at the
        beginning of the line and enter the appropriate data
        
        */
        
      // '[enter tag here]' : '[enter image url here]',
      
      };
      
    </script>
    
  <!-- do not change anything below, there be the borg here -->
  
  <style>
  
    #twc-image-tags {
    
      margin-top : 5vw;
      
      }
      
    </style>
    
  <script>
  
    $( ( ) => {
    
      if ( window.frameElement !== null ) return; // bail if in Preview
      
      if ( ! twcsl.storePage.isDetail ) return; // bail if not product detail
      
      const tags = twcsl
      
        .storePage
        
          .tags
          
          .filter ( tag => tagImageUrlMap [ tag ] !== undefined );
          
      const rows = Math.ceil ( tags.length / columns );
      
      const span = 12 / columns;
      
      const $section = $( '<section id="twc-image-tags">' +
      
        '<div class="sqs-layout sqs-grid-12 columns-12">' +
        
          '</div> <!-- end grid -->' +
          
        '</section>' );
        
      const $grid = $( '.sqs-grid-12', $section );
      
      let count = 1;
      
      for ( r = 0; r < rows; r++ ) {
      
        let $row = $( '<div class="row sqs-row">' );
        
        for ( c = 0; c < columns; c++ ) {
        
          const tag = tags [ count - 1 ];
          
          const url = tagImageUrlMap [ tag ];
          
          $( '<div class="col sqs-col-' + span + ' span-' + span + '">' +
          
            '<img src="' + url + '" style="height : 100%; width : 100%;">' +
            
            '</div>' )
            
            .appendTo ( $row );
            
          if ( count == tags.length ) break;
          
          count++;
          
          }
          
        $row.appendTo ( $grid );
        
        }
        
      $section.insertBefore ( '.ProductItem-additional' );
      
      } );
      
    </script>
    
  <!--

    end add images to product detail page based on tags above additional info
    
    -->
