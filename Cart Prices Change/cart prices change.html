<!--

  begin cart prices change
  
  Version         : 0.1d2
  
  SS Versions     : 7.1, 7.0
  
  v7.0 Templates  : Brine ( Aria, Blend, Burke, Cacao, Clay, Fairfield, Feed,
                    Foster, Greenwich, Hatch, Heights, Hunter, Hyde, Impact,
                    Jaunt, Juke, Keene, Kin, Lincoln, Maple, Margot, Marta,
                    Mentor, Mercer, Miller, Mojave, Moksha, Motto, Nueva, Pedro,
                    Pursuit, Rally, Rover, Royce, Sofia, Sonora, Stella, Thorne,
                    Vow, Wav, West )
                    
                    Five
                    
                    Montauk ( Julia, Kent, Om )
                    
                    your template is not listed? then it is not currently
                    supported
  
  Dependancies    : jQuery
                    
                    twcsl
  
  Notes           : the code is comprised of several tags all of which must be
                    present for the effect to work
  
  By              : Thomas Creedon < http://www.tomsWeb.consulting/ >
  
  -->
  
  <script>
  
    const searchReplaceText = {
    
      /*
      
        the format of each line is a search text and a replacement text or
        replacement text function
        
        if the text has single quotes in them then put a backslash before
        the single quotes. example: it's becomes it\'s
        
        search text can be a string or a regular expression, backslashes need to
        be escaped in regular expressions
        
        replacement text can use regular expression grouping syntax when the
        search text is a regular expression
        
        replacement text functions need to accept a node parameter and return
        replacement text or false. your function needs to be defined before this
        code runs
        
        following are example lines. copy an example line below and paste
        after the example lines. remove '// ' at beginning of pasted line.
        repeat for as many times as needed
        
        */
        
      // search text and replacment text example line follows
      
      // '[enter search text here between single quotes]' : '[enter replacement text here between single quotes]',
      
      // search text and replacment text function example line follows
      
      // '[enter search text here between single quotes]' : [enter replacement text function name here],
      
      };
      
    </script>
    
  <!-- do not change anything below, there be the borg here -->
  
  <style>
  
    ._2JFeDgZcv, /* subtotal */
    .item-price
    
      {
      
        visibility : hidden;
        
        }
        
    </style>
    
  <script>
  
    $( ( ) => {
    
      if ( ! twcsl.isCart ) return; // bail if not cart page
      
      const changeText = ( node ) => {
      
        const walker = document.createTreeWalker ( node, NodeFilter.SHOW_TEXT );
        
        while ( walker.nextNode ( ) ) {
        
          const node = walker.currentNode;
          
          let t = node.data;
          
          $.each ( keys, function ( i, key ) {
          
            const m = key.match ( /\/(.+)\/(.*)/ );
            
            let r = searchReplaceText [ key ];
            
            let s = key;
            
            if ( m !== null ) s = new RegExp ( m [ 1 ], m [ 2 ] );
            
            if ( typeof r == 'function' ) {
            
              r = r ( node );
              
              if ( ! r ) return true; // continue if r is false
              
              }
              
            t = t.replace ( s, r );
            
            } );
            
          node.data = t;
          
          }
          
        } // end changeText
        
      const keys = Object.keys ( searchReplaceText );
      
      const selector = '._2JFeDgZcv, .item-price';
      
      $( selector ).each ( function ( ) {
      
        changeText ( this );
        
        $( this ).css ( 'visibility', 'visible' );
        
        } );
        
      $( '.qrq0lfTEB' ).change ( function ( ) {
      
        let node = $( '.item-price', $( this ) ) [ 0 ];
        
        changeText ( node );
        
        node = $( '._2JFeDgZcv' ) [ 0 ];
        
        changeText ( node );
        
        } );
        
      } );
      
    </script>
    
  <!-- end cart prices change -->
