<script>

  $( ( ) => {
  
    /*
    
    redirect to url after add to cart button has been clicked and SS indicates
    item has been added to cart
    
    SS Versions   : 7.0, 7.1
    
    Version       : 0.1d1
    
    Dependancies  : jQuery
                    
                    twcsl
    
    Note          : has auto click feature, meaning the add to cart button will
                    automatically be clicked when the page is loaded
    
    By            : Thomas Creedon < http://www.tomsWeb.consulting/ >
    
    */
    
    /*
    
      the url can be any valid url. It can be a full (external to your site) one
      like 'http://www.tomsWeb.consulting/' or a partial (internal to your site)
      one like '/checkout'
      
      */
    
    const url = '[enter url here between single quotes]';
    
    const autoClick = false;
    
    // do not change anything below, there be the borg here
    
    if ( ! twcsl.storePage.isDetail ) return; // bail if not product detail page
    
    if ( ! ( 'MutationObserver' in window ) ) return;
    
    const observer = new MutationObserver ( function ( mutations ) {
    
      $.each ( mutations, function ( ) {
      
        if ( this.attributeName != 'class' ) return;
        
        const $e = $( this.target );
        
        if ( ! $e.hasClass ( 'cart-added' ) ) return;
        
        location.href = url;
        
        } );
        
      } );
      
    const $addToCartButton = $( '.sqs-add-to-cart-button-wrapper:first' );
    
    // start listening for changes in specified element
    
    observer.observe ( $( '.sqs-add-to-cart-button', $addToCartButton ) [ 0 ], {
    
      attributes : true
      
      } );
      
    // auto click add to cart button
    
    if ( autoClick )
    
      $( '.sqs-add-to-cart-button-inner', $addToCartButton ).click ( );
      
    } );
    
  </script>
